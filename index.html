
<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
    <head>
    	<!-- meta character set -->
        <meta charset="utf-8">
		<!-- Always force latest IE rendering engine or request Chrome Frame -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Snow Piercer</title>
		<!-- Meta Description -->
		<!--
        <meta name="description" content="Blue One Page Creative HTML5 Template">
        <meta name="keywords" content="one page, single page, onepage, responsive, parallax, creative, business, html5, css3, css3 animation">
        <meta name="author" content="Muhammad Morshed">
		-->

		<!-- Mobile Specific Meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- CSS
		================================================== -->
		
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
		
		<!-- Fontawesome Icon font -->
        <link rel="stylesheet" href="css/font-awesome.min.css">
		<!-- bootstrap.min -->
        <link rel="stylesheet" href="css/jquery.fancybox.css">
		<!-- bootstrap.min -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
		<!-- bootstrap.min -->
        <link rel="stylesheet" href="css/owl.carousel.css">
		<!-- bootstrap.min -->
        <link rel="stylesheet" href="css/slit-slider.css">
		<!-- bootstrap.min -->
        <link rel="stylesheet" href="css/animate.css">
		<!-- Main Stylesheet -->
        <link rel="stylesheet" href="css/main.css">
		<!-- snow flakes -->
		<link href="css/snowflakes.css" rel="stylesheet" media="screen" />
		<!-- leaflet.js -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />

		<!-- Modernizer Script for old Browsers -->
        <script src="js/modernizr-2.6.2.min.js"></script>
		<!-- Essential jQuery Plugins
		================================================== -->
		<!-- Main jQuery -->
		<script src="js/jquery-1.11.1.min.js"></script>
		<!-- Twitter Bootstrap -->
		<script src="js/bootstrap.min.js"></script>
		<!-- Single Page Nav -->
		<script src="js/jquery.singlePageNav.min.js"></script>
		<!-- jquery.fancybox.pack -->
		<script src="js/jquery.fancybox.pack.js"></script>
		<!-- Google Map API -->
		<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<!-- Owl Carousel -->
		<script src="js/owl.carousel.min.js"></script>
		<!-- jquery easing -->
		<script src="js/jquery.easing.min.js"></script>
		<!-- Fullscreen slider -->
		<script src="js/jquery.slitslider.js"></script>
		<script src="js/jquery.ba-cond.min.js"></script>
		<!-- onscroll animation -->
		<script src="js/wow.min.js"></script>
		<!-- D3.js -->
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<!-- Snow Flakes -->
		<script src="js/snowflakes/ready.min.js" type="text/javascript"></script>
		<script src="js/snowflakes/snowflakes.js"></script>
		<!--Leaflet JS-->
		<script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
		<script src="js/map/L.Polyline.SnakeAnim.js"></script>
		<!-- Custom Functions -->
		<script src="js/main.js"></script>

	</head>
	
    <body id="body">

	<div id="snowflakesContainer">  <!-- snowflakes Container 는 따로 두어야한다.-->

	</div>
		<!-- preloader -->
		<div id="preloader">
            <div class="loder-box">
            	<div class="battery"></div>
            </div>
		</div>
		<!-- end preloader -->

        <!--
        Fixed Navigation
        ==================================== -->
        <header id="navigation" class="navbar-inverse navbar-fixed-top animated-header">
            <div class="container">
                <div class="navbar-header">
                    <!-- responsive nav button -->
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
                    </button>
					<!-- /responsive nav button -->
					
					<!-- logo -->
					<h1 class="navbar-brand">
						<a href="#body">설국열차</a>
					</h1>
					<!-- /logo -->
                </div>

				<!-- main nav -->
                <nav class="collapse navbar-collapse navbar-right" role="navigation">
                    <ul id="nav" class="nav navbar-nav">
                        <li><a href="#body">Title</a></li>
                        <li><a href="#service">Introduction</a></li>
                        <li><a href="#portfolio">Character</a></li>
                        <li><a href="#testimonials">Highlight</a></li>
                        <li><a href="#price">Story Keword</a></li>
                        <li><a href="#contact">Train</a></li>
                    </ul>
                </nav>
				<!-- /main nav -->
				
            </div>
        </header>
        <!--
        End Fixed Navigation
        ==================================== -->
		
		<main class="site-content" role="main">
		
        <!--
        Home Slider
        ==================================== -->
		
		<section id="home-slider">
            <div id="slider" class="sl-slider-wrapper">

				<div class="sl-slider">
				
					<div class="sl-slide" data-orientation="horizontal" data-slice1-rotation="-25" data-slice2-rotation="-25" data-slice1-scale="2" data-slice2-scale="2">

						<div class="bg-img bg-img-1"></div>

						<div class="slide-caption">
                            <div class="caption-content">
                                <h2 class="animated fadeInDown">SM-인텔리전스 기말 프로젝트</h2>
                                <span class="animated fadeInDown">설국열차 스토리를 표현한 페이지</span>
                                <a href="#" class="btn btn-blue btn-effect">Github</a>
                            </div>
                        </div>
						
					</div>
					
					<div class="sl-slide" data-orientation="vertical" data-slice1-rotation="10" data-slice2-rotation="-15" data-slice1-scale="1.5" data-slice2-scale="1.5">
						<div class="bg-img bg-img-2"></div>
						<div class="slide-caption">
                            <div class="caption-content">
                            </div>
                        </div>
					</div>
				</div><!-- /sl-slider -->

                <!-- 
                <nav id="nav-arrows" class="nav-arrows">
                    <span class="nav-arrow-prev">Previous</span>
                    <span class="nav-arrow-next">Next</span>
                </nav>
                -->
                
                <nav id="nav-arrows" class="nav-arrows hidden-xs hidden-sm visible-md visible-lg">
                    <a href="javascript:;" class="sl-prev">
                        <i class="fa fa-angle-left fa-3x"></i>
                    </a>
                    <a href="javascript:;" class="sl-next">
                        <i class="fa fa-angle-right fa-3x"></i>
                    </a>
                </nav>
                

				<nav id="nav-dots" class="nav-dots visible-xs visible-sm hidden-md hidden-lg">
					<span class="nav-dot-current"></span>
					<span></span>
					<span></span>
				</nav>

			</div><!-- /slider-wrapper -->
		</section>
		
        <!--
        End Home SliderEnd
        ==================================== -->
			
			<!-- about section -->
			<section id="about" >
				<div class="container">
					<div class="row">
						<div class="col-md-4 wow animated fadeInLeft">
							<div class="recent-works">
								<h3>줄거리</h3>
								<div id="works">
									<div class="work-item">
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <br> <br> There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</p>
									</div>
									<div class="work-item">
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <br><br> There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</p>
									</div>
									<div class="work-item">
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <br><br> There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</p>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-7 col-md-offset-1 wow animated fadeInRight">
							<div class="welcome-block">
								<h3>감독</h3>
						     	 <div class="message-body">
									<img src="img/member-1.jpg" class="pull-left" alt="member">
						       		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </p>
						     	 </div>
						       	<a href="#" class="btn btn-border btn-effect pull-right">Read More</a>
						    </div>
						</div>
					</div>
				</div>
			</section>
			<!-- end about section -->
			
			
			<!-- Service section -->
			<section id="service">
				<div class="container">
					<div class="row">
					
						<div class="sec-title text-center">
							<h2 class="wow animated bounceInLeft">Service</h2>
							<p class="wow animated bounceInRight">The Key Features of our Job</p>
						</div>
						
						<div class="col-md-3 col-sm-6 col-xs-12 text-center wow animated zoomIn">
							<div class="service-item">
								<div class="service-icon">
									<i class="fa fa-home fa-3x"></i>
								</div>
								<h3>Support</h3>
								<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>
							</div>
						</div>
					
						<div class="col-md-3 col-sm-6 col-xs-12 text-center wow animated zoomIn" data-wow-delay="0.3s">
							<div class="service-item">
								<div class="service-icon">
									<i class="fa fa-tasks fa-3x"></i>
								</div>
								<h3>Well Documented</h3>
								<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>
							</div>
						</div>
					
						<div class="col-md-3 col-sm-6 col-xs-12 text-center wow animated zoomIn" data-wow-delay="0.6s">
							<div class="service-item">
								<div class="service-icon">
									<i class="fa fa-clock-o fa-3x"></i>
								</div>
								<h3>Design UI/UX</h3>
								<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>
							</div>
						</div>
					
						<div class="col-md-3 col-sm-6 col-xs-12 text-center wow animated zoomIn" data-wow-delay="0.9s">
							<div class="service-item">
								<div class="service-icon">
									<i class="fa fa-heart fa-3x"></i>
								</div>
								
								<h3>Web Security</h3>
								<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>							
							</div>
						</div>
						
					</div>
				</div>
			</section>
			<!-- end Service section -->
			
			<!-- portfolio section -->
			<section id="portfolio">
				<div class="container">
					<div class="row">
					
						<div class="sec-title text-center wow animated fadeInDown">
							<h2>FEATURED PROJECTS</h2>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
						</div>
						

						<ul class="project-wrapper wow animated fadeInUp">
							<li class="portfolio-item">
								<img src="img/portfolio/item.jpg" class="img-responsive" alt="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Araund The world" data-fancybox-group="works" href="img/portfolio/item.jpg"><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
							
							<li class="portfolio-item">
								<img src="img/portfolio/item2.jpg" class="img-responsive" alt="Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. ">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Wall street" href="img/slider/banner.jpg" data-fancybox-group="works" ><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
							
							<li class="portfolio-item">
								<img src="img/portfolio/item3.jpg" class="img-responsive" alt="Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. ">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Behind The world" data-fancybox-group="works" href="img/portfolio/item3.jpg"><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
							
							<li class="portfolio-item">
								<img src="img/portfolio/item4.jpg" class="img-responsive" alt="Lorem Ipsum is simply dummy text of the printing and typesetting ndustry.">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Wall street 4" data-fancybox-group="works" href="img/portfolio/item4.jpg"><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
							
							<li class="portfolio-item">
								<img src="img/portfolio/item5.jpg" class="img-responsive" alt="Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. ">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Wall street 5" data-fancybox-group="works" href="img/portfolio/item5.jpg"><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
							
							<li class="portfolio-item">
								<img src="img/portfolio/item6.jpg" class="img-responsive" alt="Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. ">
								<figcaption class="mask">
									<h3>Wall street</h3>
									<p>Lorem Ipsum is simply dummy text of the printing and typesetting ndustry. </p>
								</figcaption>
								<ul class="external">
									<li><a class="fancybox" title="Wall street 6" data-fancybox-group="works" href="img/portfolio/item6.jpg"><i class="fa fa-search"></i></a></li>
									<li><a href=""><i class="fa fa-link"></i></a></li>
								</ul>
							</li>
						</ul>
						
					</div>
				</div>
			</section>
			<!-- end portfolio section -->
			
			<!-- Testimonial section -->
			<section id="testimonials" class="parallax">
				<div class="overlay">
					<div class="container">
						<div class="row">
						
							<div class="sec-title text-center white wow animated fadeInDown">
								<h2>등장인물</h2>
							</div>
							
							<div id="testimonial" class=" wow animated fadeInUp">
								<div class="testimonial-item text-center">
									<img src="img/character/커티스.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>커티스</span>
										<p>꼬리칸의 혁명을 일으키는 젊은 행동대장</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/남궁민수.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>남궁민수</span>
										<p>열차의 설계자. 커티스가 반란을 일으켜서 4개의 문을 통과한 후 부터는 맨 앞칸까지 문을 열어주는 역할</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/윌포드.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>윌포드</span>
										<p>설국 열차의 설계자이자 엔진을 관리하는 열차의 절대자</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/길리엄.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>길리엄</span>
										<p>꼬리칸의 정신적 지주이자 지도자</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/에드가.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>에드가</span>
										<p>커티스를 따르는 꼬리칸의 10대 소년</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/요나.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>요나</span>
										<p>열차에서 태어난 소녀. 아버지인 남궁 민수처럼 크로놀 중독자</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/타냐.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>타냐</span>
										<p>앞 칸에 빼앗긴 5살짜리 아들을 되찾겠단 일념으로 반란 행동의 앞에 서는 유일한 여성인물</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/앤드류.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>앤드류</span>
										<p>5살 아들을 빼앗아 가려는 앞 칸의 고관에게 신발을 던져 로 인해 중벌에 처해지는 왜소한 사내</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/메이슨.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>메이슨</span>
										<p>열차 내에서 윌포드 다음 서열인 2인자로, 월포드의 의지를 대변하는 인물</p>
									</div>
								</div>
								<div class="testimonial-item text-center">
									<img src="img/character/프랑코형제.jpeg" alt="Our Clients">
									<div class="clearfix">
										<span>프랑코형제</span>
										<p>메이슨 총리의 경호대장쯤 되는 인물</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- end Testimonial section -->
			
			<!-- Price section -->
			<section id="price">
				<div class="container">
					<div class="row">
					
						<div class="sec-title text-center wow animated fadeInDown">
							<h2>인물관계도</h2>
							<p></p>
						</div>
						<div class="col-md-12 text-center wow animated fadeInUp" id = "vis">
							<h3 id="relation"></h3>
							<script>
                                //사용할 데이터
                                var SnowpiercerJson = {
                                    "name": "title",
                                    "img": "img/force_layout/메인포스터.jpg",
                                    "children": [{
                                        "name": "front section", //머리칸 등장인물
                                        "children": [{
                                            "word": "윌포드", //윌포드가
                                            "freq": 52, //영화에서 머리칸 인물 중 권력 비중이 가장 높음
                                            "sentim": 0.8,
                                            "img": "img/force_layout/윌포드.jpg", //등장인물 이미지 삽입
                                            "size": 40000 //크기 선정
                                        },
                                            {
                                                "word": "메이슨",
                                                "freq": 45,
                                                "sentim": 0.8,
                                                "img": "img/force_layout/메이슨.jpg",
                                                "size": 40000
                                            },
                                            {
                                                "word": "형프랑코",
                                                "freq": 42,
                                                "sentim": 0.8,
                                                "img": "img/force_layout/형프랑코.jpg",
                                                "size": 40000
                                            },
                                            {
                                                "word": "동생프랑코",
                                                "freq": 48,
                                                "sentim": 0.75,
                                                "img": "img/force_layout/동생프랑코.jpg",
                                                "size": 40000
                                            },
                                            {
                                                "word": "교사",
                                                "freq": 38,
                                                "sentim": 0.75,
                                                "img": "img/force_layout/교사.jpg",
                                                "size": 40000
                                            }
                                        ]
                                    },
                                        {
                                            "name": "tail section", //꼬리칸 등장인물
                                            "children": [{
                                                "word": "커티스",
                                                "freq": 55,
                                                "sentim": 0.5,
                                                "img": "img/force_layout/커티스.jpg",
                                                "size": 40000
                                            },
                                                {
                                                    "word": "길리엄",
                                                    "freq": 43,
                                                    "sentim": 0.5,
                                                    "img": "img/force_layout/길리엄.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "에드가",
                                                    "freq": 21,
                                                    "sentim": 0.5,
                                                    "img": "img/force_layout/에드가.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "타냐",
                                                    "freq": 22,
                                                    "sentim": 0.4,
                                                    "img": "img/force_layout/타냐.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "남궁민수",
                                                    "freq": 22,
                                                    "sentim": 0.4,
                                                    "img": "img/force_layout/남궁민수.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "요나",
                                                    "freq": 22,
                                                    "sentim": 0.4,
                                                    "img": "img/force_layout/요나.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "앤드류",
                                                    "freq": 22,
                                                    "sentim": 0.4,
                                                    "img": "img/force_layout/앤드류.jpg",
                                                    "size": 40000
                                                },
                                                {
                                                    "word": "그레이",
                                                    "freq": 22,
                                                    "sentim": 0.4,
                                                    "img": "img/force_layout/그레이.jpg",
                                                    "size": 40000
                                                }
                                            ]
                                        }
                                    ]

                                }

                                //기본 색상 및 아래코드에서 사용할 변수 설정
                                var tcBlack = "#130C0E";
                                var w = 900,
                                    h = 700,
                                    maxNodeSize = 50,
                                    x_browser = 20,
                                    y_browser = 25,
                                    root;
                                var vis;

                                //froce 레이아웃 형성
                                var force = d3.layout.force();

                                //vis섹션에 가로 w이고 높이 h인 기본 svg 틀 생성
                                vis = d3.select("#vis")
                                    .append("svg")
                                    .attr("width", w)
                                    .attr("height", h);

                                var json = SnowpiercerJson; //데이터 연결변수
                                root = json; //뿌리에 데이터 저장

                                d3.json(json, function(json) {

                                    root.fixed = true; //Root갈색원 위치 고정
                                    root.x = w / 2;
                                    root.y = h / 4;

                                    //path(노드끼리) 연결방식 정의
                                    var defs = vis.insert("svg:defs").data([]);
                                    defs.enter().append("svg:path");

                                    //업데이트 함수 실행
                                    update();
                                });


                                //프로그램 시작, 클릭, 이벤트가 일어날때 실행할 update함수
                                function update() {
                                    var nodes = flatten(root), //flatten(root)함수의 리턴값 저장
                                        links = d3.layout.tree().links(nodes); //트리 레이아웃으로 노드연결

                                    //force레이아웃 재시작
                                    force.nodes(nodes).links(links).gravity(0.05) //클수록 노드들이 아래로 쳐짐
                                        .charge(-1400) //수가 작을수록 퍼지게 됨
                                        .linkDistance(100) //연결된 노드 간의 거리
                                        .friction(0.6) //부딪치는 정도 높을수록 노드끼리 가까이 못감
                                        .linkStrength(function(l, i) {
                                            return 1;
                                        })
                                        .size([w, h]).on("tick", tick).start();

                                    //위치에 따른 연결선 삽입하는 방식 정의
                                    var path = vis.selectAll("path.link")
                                        .data(links, function(d) {
                                            return d.target.id;
                                        });
                                    path.enter().insert("svg:path").attr("class", "link")
                                        .style("stroke", "#eee");
                                    path.exit().remove();

                                    //노드 업데이트 방식 정의
                                    var node = vis.selectAll("g.node")
                                        .data(nodes, function(d) {
                                            return d.id;
                                        });

                                    //새 노드 입력 방식정의
                                    var nodeEnter = node.enter().append("svg:g")
                                        .attr("class", "node")
                                        .attr("transform", function(d) {
                                            return "translate(" + d.x + "," + d.y + ")";
                                        })
                                        .on("click", click).call(force.drag);
                                    nodeEnter.append("svg:circle")
                                        .attr("r", function(d) {
                                            return Math.sqrt(d.size) / 10 || 4.5;
                                        })
                                        .style("fill", "lightgray");

                                    //이미지 연결방식 정의
                                    var images = nodeEnter.append("svg:image")
                                        .attr("xlink:href", function(d) {
                                            return d.img;
                                        })
                                        .attr("x", function(d) {
                                            return -25;
                                        })
                                        .attr("y", function(d) {
                                            return -25;
                                        })
                                        .attr("height", 100).attr("width", 100);

                                    //이벤트 처리 방식 정의
                                    var setEvents = images
                                    //아이콘 눌렀을 때 문장 띄우기
                                        .on('click', function(d) {
                                            if (d.freq) {
                                                d3.select("#relation").html(d.word);
                                            } else {
                                                d3.select("#relation").html("포스터를 클릭 해주세요");
                                            }

                                        })
                                        //마우스 올렸을 때
                                        .on('mouseenter', function() {
                                            d3.select(this).transition()
                                                .attr("x", function(d) {
                                                    return -60;
                                                })
                                                .attr("y", function(d) {
                                                    return -60;
                                                })
                                                .attr("height", 200).attr("width", 200);
                                        })
                                        //마우스 내렸을 때
                                        .on('mouseleave', function() {
                                            d3.select(this).transition()
                                                .attr("x", function(d) {
                                                    return -25;
                                                })
                                                .attr("y", function(d) {
                                                    return -25;
                                                })
                                                .attr("height", 100).attr("width", 100);
                                        });
                                    //노드 옆에 단어 띄우기

                                    //이전노드 지우기
                                    node.exit().remove();


                                    //업데이트 위해 각기 path&node다시 선택하기
                                    path = vis.selectAll("path.link");
                                    node = vis.selectAll("g.node");

                                    //tick 함수 정의
                                    function tick() {
                                        path.attr("d", function(d) {
                                            var dx = d.target.x - d.source.x,
                                                dy = d.target.y - d.source.y,
                                                dr = Math.sqrt(dx * dx + dy * dy);
                                            return "M" + d.source.x + "," + d.source.y +
                                                "A" + dr + "," + dr + " 0 0,1" + d.target.x +
                                                "," + d.target.y;
                                        });
                                        node.attr("transform", nodeTransform);
                                    }

                                    //노드를 동그란 프레임 안에 두는 함수
                                    function nodeTransform(d) {
                                        d.x = Math.max(maxNodeSize, Math.min(w - (d.imgwidth / 2 || 16), d.x));
                                        d.y = Math.max(maxNodeSize, Math.min(h - (d.imgheight / 2 || 16), d.y));
                                        return "translate(" + d.x + "," + d.y + ")";
                                    }

                                    //children이 존재하는 노드 클릭 시
                                    function click(d) {
                                        if (d.children) {
                                            d._children = d.children;
                                            d.children = null;
                                        } else {
                                            d.children = d._children;
                                            d._children = null;
                                        }
                                        update();
                                    }

                                    //루트 아래에 모든 리스트 출력하는 함수
                                    function flatten(root) {
                                        var nodes = [];
                                        var i = 0;

                                        function recurse(node) {
                                            if (node.children)
                                                node.children.forEach(recurse);
                                            if (!node.id)
                                                node.id = ++i;
                                            nodes.push(node);
                                        }
                                        recurse(root);
                                        return nodes;
                                    }
                                }
							</script>
						</div>
					</div>
				</div>
			</section>
			<!-- end Price section -->
			
			<!-- Social section -->
			<section id="social" class="parallax">
				<div class="overlay">
					<div class="container">
						<div class="row">
						
							<div class="sec-title text-center white wow animated fadeInDown">
								<h2>FOLLOW US</h2>
								<p>Beautifully simple follow buttons to help you get followers on</p>
							</div>
							
							<ul class="social-button">
								<li class="wow animated zoomIn"><a href="#"><i class="fa fa-thumbs-up fa-2x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="0.3s"><a href="#"><i class="fa fa-twitter fa-2x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="0.6s"><a href="#"><i class="fa fa-dribbble fa-2x"></i></a></li>							
							</ul>
							
						</div>
					</div>
				</div>
			</section>
			<!-- end Social section -->
			
			<!-- Contact section -->
			<section id="contact" >
				<div class="container">
					<div class="row">
						
						<div class="sec-title text-center wow animated fadeInDown">
							<h2>경로</h2>
						</div>

						<div class="col-md-12 text-center wow animated fadeInLeft" id="mapid">
							<script>
                                var map = new L.map('mapid');

                                var positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
                                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
                                }).addTo(map);

                                var markers = [
                                    [50.913, -1.470],
                                    [49.627, -1.705],
                                    [49.829, -7.503],
                                    [51.770, -8.546],
                                    [49.251, -22.572],
                                    [46.656, -36.706],
                                    [41.731, -49.945],
                                    [40.651, -74.009]
                                ];


                                var route = L.featureGroup();

                                var n = markers.length;

                                var balloonOptions = {
                                    closeOnClick: false,
                                    autoClose: false,
                                    closeButton: true,
                                    offset: [0, 0]
                                }
                                var ShipIcon = L.Icon.extend({
                                    options: {
                                        iconSize: [70, 70],
                                        shadowAnchor: [4, 62],
                                        popupAnchor: [-3, -26]
                                    }
                                });
                                var titanicIcon = new ShipIcon({
                                    iconUrl: 'img/icons/ship.png'
                                })


                                var popups = [];

                                route.addLayer(new L.Marker(markers[0]));
                                var line = new L.polyline([markers[0], markers[1]]);
                                route.addLayer(line);

                                for (var i = 1; i < n - 1; i++) {
                                    var line = new L.polyline([markers[i], markers[i + 1]]);
                                    L.marker(markers[6], {
                                        icon: titanicIcon
                                    }).bindPopup("1912년 4월 15일 오전 2시 20분 - 침몰").addTo(map);
                                    route.addLayer(line);
                                };
                                route.addLayer(new L.Marker(markers[n - 1]));

                                map.fitBounds(route.getBounds());

                                map.addLayer(route);

                                snake();

                                function snake() {
                                    route.snakeIn();
                                };

                                segment = -1;

                                route.on('snakestart snake snakeend', function (ev) {
                                    if (segment >= 0) {
                                        popups[segment].addTo(map);
                                    }
                                    segment++;
                                });
							</script>
						</div>
					</div>
				</div>
			</section>
		
		</main>
		
		<footer id="footer">
			<div class="container">
				<div class="row text-center">
					<div class="footer-content">
						<div class="wow animated fadeInDown">
							<p>newsletter signup</p>
							<p>Get Cool Stuff! We hate spam!</p>
						</div>
						<form action="#" method="post" class="subscribe-form wow animated fadeInUp">
							<div class="input-field">
								<input type="email" class="subscribe form-control" placeholder="Enter Your Email...">
								<button type="submit" class="submit-icon">
									<i class="fa fa-paper-plane fa-lg"></i>
								</button>
							</div>
						</form>
						<div class="footer-social">
							<ul>
								<li class="wow animated zoomIn"><a href="#"><i class="fa fa-thumbs-up fa-3x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="0.3s"><a href="#"><i class="fa fa-twitter fa-3x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="0.6s"><a href="#"><i class="fa fa-skype fa-3x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="0.9s"><a href="#"><i class="fa fa-dribbble fa-3x"></i></a></li>
								<li class="wow animated zoomIn" data-wow-delay="1.2s"><a href="#"><i class="fa fa-youtube fa-3x"></i></a></li>
							</ul>
						</div>
						
						<p>Copyright &copy; 2014-2015 Design and Developed By<a href="http://www.themefisher.com">Themefisher</a> </p>
					</div>
				</div>
			</div>
		</footer>
		
		</body>
</html>